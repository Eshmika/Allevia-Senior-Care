<div id="view-caregivers" class="view-section">
  <!-- SUB-VIEW: LIST -->
  <div id="cg-subview-list">
    <div class="mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4">
      <div>
        <h1 class="text-2xl font-bold text-gray-800">Caregiver Staff</h1>
        <p class="text-gray-500">
          Manage your team, track status, and view profiles.
        </p>
      </div>
      <button onclick="switchCgView('add')" class="btn-primary shadow-lg shadow-green-100">
        <i class="ph ph-plus-circle text-lg"></i> Add Caregiver
      </button>
    </div>

    <!-- Toolbar -->
    <div
      class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between">
      <!-- Search -->
      <div class="relative w-full md:w-96">
        <i class="ph ph-magnifying-glass absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
        <input type="text" id="cgSearch" onkeyup="renderCgTable()" placeholder="Search by name, email or ID..."
          class="w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:border-[#65c027] transition-colors" />
      </div>

      <!-- Filter -->
      <div class="flex items-center gap-3 w-full md:w-auto">
        <label class="text-sm font-medium text-gray-600">Status:</label>
        <select id="cgFilterStatus" onchange="renderCgTable()"
          class="bg-gray-50 border border-gray-200 text-sm rounded-lg p-2 focus:border-[#65c027] outline-none">
          <option value="All">All Status</option>
          <option value="Active">Active</option>
          <option value="Inactive">Inactive</option>
          <option value="No call">No call</option>
          <option value="Vacation">Vacation</option>
        </select>
      </div>
    </div>

    <!-- Table -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
          <thead>
            <tr
              class="bg-gray-50 border-b border-gray-100 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              <th class="p-4">Caregiver</th>
              <th class="p-4">Title</th>
              <th class="p-4">Contact</th>
              <th class="p-4">City/Zipcode</th>
              <th class="p-4">Last Reviewed</th>
              <th class="p-4">Last Client Seen</th>
              <th class="p-4">Status</th>
              <th class="p-4 text-right">Actions</th>
            </tr>
          </thead>
          <tbody id="cgTableBody" class="text-sm text-gray-700 divide-y divide-gray-50">
            <!-- Rows injected via JS -->
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="p-4 border-t border-gray-100 flex items-center justify-between bg-gray-50">
        <span class="text-xs text-gray-500" id="cgPageInfo">Showing 0-0 of 0</span>
        <div class="flex gap-2">
          <button onclick="changeCgPage(-1)" id="btnPrev"
            class="px-3 py-1 rounded bg-white border border-gray-200 text-gray-600 hover:border-[#65c027] disabled:opacity-50">
            Prev
          </button>
          <button onclick="changeCgPage(1)" id="btnNext"
            class="px-3 py-1 rounded bg-white border border-gray-200 text-gray-600 hover:border-[#65c027] disabled:opacity-50">
            Next
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- SUB-VIEW: ADD FORM -->
  <div id="cg-subview-add" class="hidden">
    <div class="mb-6 flex items-center gap-4">
      <button onclick="switchCgView('list')" class="p-2 rounded-full hover:bg-gray-200 text-gray-600">
        <i class="ph ph-arrow-left text-xl"></i>
      </button>
      <h1 class="text-2xl font-bold text-gray-800">
        New Caregiver Application
      </h1>
    </div>

    <div class="max-w-4xl bg-white rounded-xl shadow-md border border-gray-100 p-8">
      <form id="caregiverForm" onsubmit="submitForm(event)">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="col-span-2 bg-gray-50 p-4 rounded border border-gray-200 flex items-center gap-3">
            <i class="ph ph-info text-[#65c027] text-xl"></i>
            <p class="text-sm text-gray-600">
              Caregiver ID will be <strong>auto-generated</strong>.
            </p>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label><input type="text"
              name="firstName" required class="input-field" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label><input type="text"
              name="lastName" required class="input-field" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label><input type="tel" name="phone"
              required maxlength="14" class="input-field" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label><input type="email" name="email"
              required class="input-field" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
            <select name="title" required class="input-field bg-white">
              <option value="STNA">STNA</option>
              <option value="CNA">CNA</option>
              <option value="HHA">HHA</option>
              <option value="PCA">PCA</option>
              <option value="LPN">LPN</option>
              <option value="RN">RN</option>
              <option value="CPR">CPR</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div>
            <input type="hidden" name="status" value="Applicant" />
          </div>
        </div>
        <div class="flex items-center justify-end gap-4 pt-6 border-t border-gray-100">
          <button type="button" onclick="document.getElementById('caregiverForm').reset()"
            class="px-6 py-3 text-sm font-medium text-gray-600 hover:text-gray-800 transition-colors">
            Reset
          </button>
          <button type="submit" id="submitBtn" class="btn-primary">
            <span id="btnText">Create & Send</span>
            <div id="btnSpinner" class="spinner hidden"></div>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- SUB-VIEW: PROFILE -->
  <div id="cg-subview-profile" class="hidden">
    <div class="mb-6 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <button onclick="switchCgView('list')" class="p-2 rounded-full hover:bg-gray-200 text-gray-600">
          <i class="ph ph-arrow-left text-xl"></i>
        </button>
        <h1 class="text-2xl font-bold text-gray-800">Caregiver Profile</h1>
      </div>
      <!-- EDIT BUTTON (Hidden by default, shown via JS) -->
      <button id="btn-edit-profile" onclick="openEditMode()"
        class="hidden bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition flex items-center gap-2">
        <i class="ph ph-pencil-simple"></i> Edit Profile
      </button>
    </div>

    <div id="profileLoading" class="text-center py-20 text-gray-400">
      <div class="spinner mx-auto mb-4 border-gray-300 border-t-[#65c027]"></div>
      Loading profile...
    </div>

    <div id="profileContent" class="hidden animate-fade-in">
      <!-- HEADER -->
      <div
        class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6 flex flex-col md:flex-row items-center gap-6 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-[#65c027]"></div>
        <div
          class="w-24 h-24 rounded-full bg-green-50 flex items-center justify-center text-[#65c027] text-4xl font-bold border-4 border-white shadow-lg z-10">
          <span id="p-initials">--</span>
        </div>
        <div class="text-center md:text-left flex-1 z-10">
          <h2 class="text-2xl font-bold text-gray-800" id="p-name">--</h2>
          <div class="flex items-center justify-center md:justify-start gap-2 text-gray-500 mt-1">
            <span class="bg-gray-100 px-2 py-0.5 rounded text-xs font-semibold tracking-wide uppercase"
              id="p-title">--</span>
            <span class="text-sm">â€¢</span>
            <span class="text-sm" id="p-id">--</span>
          </div>
        </div>
        <div class="flex gap-2">
          <a id="p-email-btn" href="#" class="p-3 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition"><i
              class="ph ph-envelope-simple"></i></a>
        </div>
      </div>

      <!-- Pipeline Removed -->

      <!-- Details Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- 1. PROFILE -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-user-circle text-[#65c027]"></i> PROFILE
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Username</p>
              <p class="text-sm font-medium" id="p-username">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Phone</p>
              <p class="text-sm font-medium" id="p-phone">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Email</p>
              <p class="text-sm font-medium break-all" id="p-email">--</p>
            </div>
            <div class="flex gap-4">
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">Address</p>
                <p class="text-sm font-medium" id="p-address">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">Apt</p>
                <p class="text-sm font-medium" id="p-apt">--</p>
              </div>
            </div>
            <div class="flex gap-4">
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">City</p>
                <p class="text-sm font-medium" id="p-city">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">State</p>
                <p class="text-sm font-medium" id="p-state">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">Zip</p>
                <p class="text-sm font-medium" id="p-zip">--</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 2. STATUS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-info text-[#65c027]"></i> STATUS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div class="mt-3 flex items-center justify-center md:justify-start gap-4">
              <span id="p-status-badge"
                class="px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700">Active</span>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Started Date</p>
              <p class="text-sm font-medium text-gray-800" id="p-started-date">
                --
              </p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Years of Experience</p>
              <p class="text-sm font-medium" id="p-yearsOfExperience">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Last Edited date</p>
              <p class="text-sm font-medium text-gray-800" id="p-last-reviewed">
                --
              </p>
            </div>
          </div>
        </div>

        <!-- 3. PERSONAL DETAILS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-identification-card text-[#65c027]"></i> PERSONAL
            DETAILS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div class="flex gap-4">
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">DOB</p>
                <p class="text-sm font-medium flex items-center gap-2" id="p-dob">
                  --
                </p>
              </div>
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">Gender</p>
                <p class="text-sm font-medium" id="p-gender">--</p>
              </div>
            </div>

            <div class="flex gap-4">
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">SSN</p>
                <p class="text-sm font-medium" id="p-ssn">--</p>
              </div>
              <div class="flex-1">
                <p class="text-xs text-gray-400 uppercase">EIN</p>
                <p class="text-sm font-medium" id="p-ein">--</p>
              </div>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">
                Marital Status / Spouse
              </p>
              <p class="text-sm font-medium" id="p-marital">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Criminal Conviction</p>
              <p class="text-sm font-medium" id="p-criminal-conviction">--</p>
            </div>
          </div>
        </div>

        <!-- 3. EMERGENCY CONTACT -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-phone-plus text-[#65c027]"></i> EMERGENCY CONTACT
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Name</p>
              <p class="text-sm font-bold mt-1" id="p-emergency-name">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Phone</p>
              <p class="text-sm font-medium mt-1" id="p-emergency-contact">
                --
              </p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Email</p>
              <p class="text-sm font-medium mt-1" id="p-emergency-email">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Address</p>
              <p class="text-sm font-medium mt-1" id="p-emergency-address">
                --
              </p>
            </div>
          </div>
        </div>

        <!-- 4. TRANSPORATION -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-car text-[#65c027]"></i> TRANSPORTATION
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- License Info -->
            <div>
              <p class="text-xs text-gray-400 uppercase">Driver License?</p>
              <p class="text-sm font-medium" id="p-has-license">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">License State</p>
              <p class="text-sm font-medium" id="p-license-state">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">License #</p>
              <p class="text-sm font-medium" id="p-license-num">--</p>
            </div>

            <!-- Car Info -->
            <div class="md:col-span-3 border-t border-gray-50 my-2"></div>

            <div>
              <p class="text-xs text-gray-400 uppercase">Has Car?</p>
              <p class="text-sm font-medium" id="p-has-car">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Model</p>
              <p class="text-sm font-medium" id="p-car-model">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Insurance?</p>
              <p class="text-sm font-medium" id="p-has-insurance">--</p>
            </div>
          </div>
        </div>

        <!-- 5. ELIGIBILITY / VACCINATION -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-flag text-[#65c027]"></i> ELIGIBILITY / VACCINATION
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Eligibility -->
            <div>
              <p class="text-xs text-gray-400 uppercase">
                US Eligible / US Citizen
              </p>
              <p class="text-sm font-medium" id="p-us-eligible">--</p>
            </div>

            <!-- Vaccination -->
            <div class="grid grid-cols-2 gap-4">
              <div>
                <p class="text-xs text-gray-400 uppercase">Covid</p>
                <p class="text-sm font-medium" id="p-covid">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">Flu</p>
                <p class="text-sm font-medium" id="p-flu">--</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 6. PAYMENT METHODS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-credit-card text-[#65c027]"></i> PAYMENT METHODS
          </h3>
          <div class="space-y-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Method</p>
              <p class="text-sm font-bold text-gray-800" id="p-pay-method">
                --
              </p>
            </div>
            <div id="p-bank-details" class="hidden space-y-2 border-t border-gray-100 pt-2">
              <div class="grid grid-cols-1 gap-4">
                <div>
                  <p class="text-xs text-gray-400 uppercase">Bank Name</p>
                  <p class="text-sm font-medium" id="p-bank-name">--</p>
                </div>
                <div>
                  <p class="text-xs text-gray-400 uppercase">Account Holder</p>
                  <p class="text-sm font-medium" id="p-holder-name">--</p>
                  <p class="text-xs text-gray-500" id="p-holder-type">--</p>
                </div>
                <div>
                  <p class="text-xs text-gray-400 uppercase">Account Details</p>
                  <p class="text-sm font-medium" id="p-account-num">--</p>
                  <p class="text-xs text-gray-500" id="p-routing-num">--</p>
                  <p class="text-xs text-gray-500" id="p-account-type">--</p>
                </div>
              </div>
            </div>
            <div id="p-check-details" class="hidden space-y-2 border-t border-gray-100 pt-2">
              <div>
                <p class="text-xs text-gray-400 uppercase">Check Documents</p>
                <div class="flex gap-4">
                  <a id="p-check-id" href="#" target="_blank"
                    class="text-sm text-blue-600 hover:underline block hidden"><i class="ph ph-file-text"></i> ID
                    Proof</a>
                  <a id="p-check-addr" href="#" target="_blank"
                    class="text-sm text-blue-600 hover:underline block hidden"><i class="ph ph-file-text"></i> Address
                    Proof</a>
                </div>
              </div>
            </div>
            <div id="p-digital-details" class="hidden space-y-2 border-t border-gray-100 pt-2">
              <div class="grid grid-cols-1 gap-4">
                <div>
                  <p class="text-xs text-gray-400 uppercase">Digital Name</p>
                  <p class="text-sm font-medium" id="p-digital-name">--</p>
                </div>
                <div>
                  <p class="text-xs text-gray-400 uppercase">Digital Phone</p>
                  <p class="text-sm font-medium" id="p-digital-phone">--</p>
                </div>
                <div>
                  <p class="text-xs text-gray-400 uppercase">Digital Email</p>
                  <p class="text-sm font-medium" id="p-digital-email">--</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 8. DOCUMENTS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-files text-[#65c027]"></i> DOCUMENTS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Signed By</p>
              <p class="text-sm font-bold text-blue-900" id="p-signName">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Date Signed</p>
              <p class="text-sm font-medium text-blue-800" id="p-signDate">
                --
              </p>
            </div>
            <div id="p-documents-container" class="hidden">
              <div id="p-documents" class="flex flex-col gap-2"></div>
            </div>
          </div>
        </div>

        <!-- 9. SEND EMAILS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-envelope-simple text-[#65c027]"></i> SEND EMAILS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <button
              class="w-full bg-blue-50 hover:bg-blue-100 text-blue-600 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
              <i class="ph ph-hand-waving"></i> Send Welcome
            </button>
            <button
              class="w-full bg-purple-50 hover:bg-purple-100 text-purple-600 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
              <i class="ph ph-check-circle"></i> Send Shift verification
            </button>
            <button
              class="w-full bg-orange-50 hover:bg-orange-100 text-orange-600 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
              <i class="ph ph-user-switch"></i> Send Username change
            </button>
            <button
              class="w-full bg-green-50 hover:bg-green-100 text-green-600 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
              <i class="ph ph-lock-key-open"></i> Send Password reset
            </button>
          </div>
        </div>

        <!-- 10. EDUCATION & CERTIFICATIONS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-graduation-cap text-[#65c027]"></i> EDUCATION &
            CERTIFICATIONS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <!-- High School -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-b border-gray-50 pb-4 last:border-0 last:pb-0">
              <div>
                <p class="text-xs text-gray-400 uppercase">High School Name</p>
                <p class="text-sm font-medium" id="p-hs-name">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">HS Degree</p>
                <p class="text-sm font-medium" id="p-hs-degree">--</p>
              </div>
            </div>

            <!-- College -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-b border-gray-50 pb-4 last:border-0 last:pb-0">
              <div>
                <p class="text-xs text-gray-400 uppercase">College Name</p>
                <p class="text-sm font-medium" id="p-col-name">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">Degree</p>
                <p class="text-sm font-medium" id="p-col-degree">--</p>
              </div>
            </div>

            <!-- Other Education -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-b border-gray-50 pb-4 last:border-0 last:pb-0">
              <div>
                <p class="text-xs text-gray-400 uppercase">
                  Other Education Name
                </p>
                <p class="text-sm font-medium" id="p-other-name">--</p>
              </div>
              <div>
                <p class="text-xs text-gray-400 uppercase">Degree</p>
                <p class="text-sm font-medium" id="p-other-degree">--</p>
              </div>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Certifications</p>
              <div id="p-certs" class="flex flex-wrap gap-1 mt-1"></div>
            </div>
          </div>
        </div>

        <!-- 11. CAREER HIGHLIGHTS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-briefcase text-[#65c027]"></i> CAREER HIGHLIGHTS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Last Employer</p>
              <p class="text-sm font-medium" id="p-emp">--</p>
            </div>
          </div>
        </div>

        <!-- 12. REFERENCES -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-users-three text-[#65c027]"></i> REFERENCES
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-sm font-medium" id="p-reference-contact">--</p>
            </div>
          </div>
        </div>

        <!-- 13. AVAILABILITY & SCHEDULE -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-calendar-check text-[#65c027]"></i> AVAILABILITY &
            SCHEDULE
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Times</p>
              <p class="text-sm font-medium" id="p-times">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Days</p>
              <div id="p-days" class="flex flex-wrap gap-1 mt-1"></div>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Hours</p>
              <p class="text-sm font-medium" id="p-hours">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Emergency / Live-In</p>
              <p class="text-sm font-medium" id="p-extra-avail">--</p>
            </div>
          </div>
        </div>

        <!-- 14. CARE MATCHING & SKILLS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-star text-[#65c027]"></i> CARE MATCHING & SKILLS
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Languages</p>
              <p class="text-sm font-medium" id="p-langs">--</p>
            </div>
            <div>
              <p class="text-xs text-gray-400 uppercase">Skills</p>
              <p class="text-sm font-medium" id="p-skills">--</p>
            </div>
          </div>
        </div>

        <!-- 15. OFFICE LOCATION -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-map-pin text-[#65c027]"></i> OFFICE LOCATION
          </h3>
          <div class="grid grid-cols-1 gap-4"></div>
        </div>

        <!-- 16. CLIENT HISTORY -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-clock-counter-clockwise text-[#65c027]"></i> CLIENT
            HISTORY
          </h3>
          <div class="grid grid-cols-1 gap-4">
            <div>
              <p class="text-xs text-gray-400 uppercase">Last Client Seen</p>
              <p class="text-sm font-bold text-gray-800" id="p-last-client">
                --
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- NEW: EDIT PROFILE VIEW -->
  <div id="cg-subview-edit" class="hidden">
    <div class="mb-6 flex items-center gap-4">
      <button onclick="cancelEdit()" class="p-2 rounded-full hover:bg-gray-200 text-gray-600">
        <i class="ph ph-x text-xl"></i>
      </button>
      <h1 class="text-2xl font-bold text-gray-800">Edit Profile</h1>
    </div>

    <form id="editProfileForm" onsubmit="submitEditProfile(event)">
      <input type="hidden" name="caregiverId" id="edit-id" />
      <input type="hidden" name="signName" id="edit-signName" />

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- 1. PROFILE -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-user-circle text-[#65c027]"></i> PROFILE
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Username</label>
              <input type="text" name="username" id="edit-username" class="input-field text-sm py-1" />
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">First Name</label>
                <input type="text" name="firstName" id="edit-firstName" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Last Name</label>
                <input type="text" name="lastName" id="edit-lastName" class="input-field text-sm py-1" />
              </div>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Middle</label>
                <input type="text" name="middleName" id="edit-middleName" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Title</label>
                <select name="title" id="edit-title" class="input-field text-sm py-1">
                  <option value="STNA">STNA</option>
                  <option value="CNA">CNA</option>
                  <option value="HHA">HHA</option>
                  <option value="PCA">PCA</option>
                  <option value="LPN">LPN</option>
                  <option value="RN">RN</option>
                  <option value="CPR">CPR</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Phone</label>
              <input type="tel" name="phone" id="edit-phone" maxlength="14" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Email</label>
              <input type="email" name="email" id="edit-email" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Address</label>
              <input type="text" name="address" id="edit-address" class="input-field text-sm py-1" />
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Apt</label>
                <input type="text" name="apt" id="edit-apt" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">City</label>
                <input type="text" name="city" id="edit-city" class="input-field text-sm py-1" />
              </div>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">State</label>
                <input type="text" name="state" id="edit-state" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Zip</label>
                <input type="text" name="zip" id="edit-zip" maxlength="5" class="input-field text-sm py-1" />
              </div>
            </div>
          </div>
        </div>

        <!-- 2. STATUS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-info text-[#65c027]"></i> STATUS
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Status</label>
              <select name="status" id="edit-status" class="input-field text-sm py-1">
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
                <option value="No call">No call</option>
                <option value="Vacation">Vacation</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Years of Experience</label>
              <input type="number" name="yearsOfExperience" id="edit-yearsOfExperience"
                class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 3. PERSONAL DETAILS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-identification-card text-[#65c027]"></i> PERSONAL
            DETAILS
          </h3>
          <div class="space-y-3">
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">DOB</label>
                <input type="date" name="dob" id="edit-dob" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Gender</label>
                <select name="gender" id="edit-gender" class="input-field text-sm py-1">
                  <option value="F">Female</option>
                  <option value="M">Male</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">SSN</label>
                <input type="text" name="ssn" id="edit-ssn" maxlength="11" class="input-field text-sm py-1" />
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">EIN</label>
                <input type="text" name="ein" id="edit-ein" maxlength="10" class="input-field text-sm py-1" />
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Marital Status</label>
              <select name="maritalStatus" id="edit-maritalStatus" class="input-field text-sm py-1">
                <option value="">Select...</option>
                <option value="Married">Married</option>
                <option value="Divorced">Divorced</option>
                <option value="Single">Single</option>
                <option value="Widowed">Widowed</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Spouse Name</label>
              <input type="text" name="spouseName" id="edit-spouseName" class="input-field text-sm py-1" />
            </div>
            <div class="pt-2 border-t border-gray-100">
              <label class="block text-xs text-red-500 font-bold uppercase mb-1">Criminal Conviction</label>
              <select name="criminalHistory" id="edit-criminalHistory" class="input-field text-sm py-1 mb-2">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
              <input type="text" name="criminalExplain" id="edit-criminalExplain" placeholder="Details if any"
                class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 4. EMERGENCY CONTACT -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-phone-plus text-[#65c027]"></i> EMERGENCY CONTACT
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Name</label>
              <input type="text" name="emName" id="edit-emName" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Relation</label>
              <input type="text" name="emRel" id="edit-emRel" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Phone</label>
              <input type="text" name="emPhone" id="edit-emPhone" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Email</label>
              <input type="email" name="emEmail" id="edit-emEmail" class="input-field text-sm py-1" />
            </div>
            <div>
              <div class="flex items-center justify-between mb-1">
                <label class="block text-xs text-gray-400 uppercase">Address</label>
                <label class="flex items-center gap-1 text-xs text-gray-600 cursor-pointer">
                  <input type="checkbox" id="edit-emSameAsAddress" onchange="toggleEditEmAddress()"
                    class="w-3 h-3 text-[#65c027]" />
                  Same as Profile
                </label>
              </div>
              <input type="text" name="emAddress" id="edit-emAddress" class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 5. TRANSPORTATION -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-car text-[#65c027]"></i> TRANSPORTATION
          </h3>
          <div class="space-y-3">
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Has License?</label>
                <select name="hasLicense" id="edit-hasLicense" class="input-field text-sm py-1">
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">State</label>
                <input type="text" name="licenseState" id="edit-licenseState" class="input-field text-sm py-1" />
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">License #</label>
              <input type="text" name="licenseNum" id="edit-licenseNum" class="input-field text-sm py-1" />
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Has Car?</label>
                <select name="hasCar" id="edit-hasCar" class="input-field text-sm py-1">
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Insurance?</label>
                <select name="hasInsurance" id="edit-hasInsurance" class="input-field text-sm py-1">
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Car Model</label>
              <input type="text" name="carModel" id="edit-carModel" class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 6. ELIGIBILITY -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-flag text-[#65c027]"></i> ELIGIBILITY
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Eligible to work in US?</label>
              <select name="usEligible" id="edit-usEligible" class="input-field text-sm py-1">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Legal US Citizen?</label>
              <select name="usCitizen" id="edit-usCitizen" class="input-field text-sm py-1">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
          </div>
        </div>

        <!-- 7. PAYMENT METHODS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-credit-card text-[#65c027]"></i> PAYMENT METHODS
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Routing #</label>
              <input type="text" name="routingNum" id="edit-routingNum" maxlength="9"
                class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Account #</label>
              <input type="text" name="accountNum" id="edit-accountNum" maxlength="12"
                class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 8. EDUCATION & CERTIFICATIONS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-graduation-cap text-[#65c027]"></i> EDUCATION &
            CERTIFICATIONS
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">High School</label>
              <div class="grid grid-cols-2 gap-2">
                <input type="text" name="hsName" id="edit-hsName" placeholder="Name" class="input-field text-sm py-1" />
                <input type="text" name="hsDegree" id="edit-hsDegree" placeholder="Degree/Year"
                  class="input-field text-sm py-1" />
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">College</label>
              <div class="grid grid-cols-2 gap-2">
                <input type="text" name="colName" id="edit-colName" placeholder="Name"
                  class="input-field text-sm py-1" />
                <input type="text" name="colDegree" id="edit-colDegree" placeholder="Degree"
                  class="input-field text-sm py-1" />
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Other</label>
              <div class="grid grid-cols-2 gap-2">
                <input type="text" name="otherEdu" id="edit-otherEdu" placeholder="Name"
                  class="input-field text-sm py-1" />
                <input type="text" name="otherDegree" id="edit-otherDegree" placeholder="Degree"
                  class="input-field text-sm py-1" />
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-2">Certifications</label>
              <div class="flex flex-wrap gap-2">
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs"
                    value="CPR & First Aid" />
                  CPR</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs"
                    value="Geriatric Aide" />
                  Geriatric</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs"
                    value="Medication Aide" />
                  Med Aide</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs" value="PCT" />
                  PCT</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs" value="CNA" />
                  CNA</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs" value="HHA" />
                  HHA</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs" value="LPN" />
                  LPN</label>
                <label class="flex items-center gap-1 text-xs"><input type="checkbox" name="certs" value="RN" />
                  RN</label>
              </div>
            </div>
          </div>
        </div>

        <!-- 9. CAREER HIGHLIGHTS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-briefcase text-[#65c027]"></i> CAREER HIGHLIGHTS
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Employer 1</label><input type="text"
                name="emp1_full" id="edit-emp1" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Employer 2</label><input type="text"
                name="emp2_full" id="edit-emp2" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Employer 3</label><input type="text"
                name="emp3_full" id="edit-emp3" class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 10. REFERENCES -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-users-three text-[#65c027]"></i> REFERENCES
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Reference 1</label><input type="text"
                name="ref1_full" id="edit-ref1" class="input-field text-sm py-1" />
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Reference 2</label><input type="text"
                name="ref2_full" id="edit-ref2" class="input-field text-sm py-1" />
            </div>
          </div>
        </div>

        <!-- 11. AVAILABILITY & SCHEDULE -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-calendar-check text-[#65c027]"></i> AVAILABILITY &
            SCHEDULE
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Hours</label>
              <div class="flex flex-wrap gap-2">
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="hoursAvail"
                    value="1-4 hours" />
                  1-4</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="hoursAvail"
                    value="5-8 hours" />
                  5-8</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="hoursAvail"
                    value="9-12 hours" />
                  9-12</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="hoursAvail" value="More" />
                  More</label>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Days</label>
              <div class="flex flex-wrap gap-2">
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="MON" />
                  M</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="TUE" />
                  T</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="WED" />
                  W</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="THU" />
                  Th</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="FRI" />
                  F</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="SAT" />
                  S</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="scheduleDays" value="SUN" />
                  Su</label>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Times</label>
              <div class="flex flex-wrap gap-2">
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="timesAvail"
                    value="Mornings" />
                  Mornings</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="timesAvail"
                    value="Evenings" />
                  Evenings</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="timesAvail"
                    value="Overnights" />
                  Overnights</label>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Emergency?</label>
                <select name="emergencyAvail" id="edit-emergencyAvail" class="input-field text-sm py-1">
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div>
                <label class="block text-xs text-gray-400 uppercase mb-1">Live-in?</label>
                <select name="liveInAvail" id="edit-liveInAvail" class="input-field text-sm py-1">
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- 12. CARE MATCHING & SKILLS -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 md:col-span-2 lg:col-span-3">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-star text-[#65c027]"></i> CARE MATCHING & SKILLS
          </h3>
          <div class="space-y-4">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-2">Languages</label>
              <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2">
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="English" />
                  English</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Spanish" />
                  Spanish</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="French" />
                  French</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="Arabic" />
                  Arabic</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Mandrin" />
                  Mandrin</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="Hindi" />
                  Hindi</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Portuguese" />
                  Portuguese</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Russian" />
                  Russian</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Japanese" />
                  Japanese</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="German" />
                  German</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Turkish" />
                  Turkish</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Swahili" />
                  Swahili</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="Somali" />
                  Somali</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Chinese" />
                  Chinese</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages"
                    value="Bengali" />
                  Bengali</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="languages" value="Other" />
                  Other</label>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-2">Skills</label>
              <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Bathing" />
                  Bathing/Showering</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Ambulating" />
                  Ambulating</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Food Prep" />
                  Food Prep</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Meds" /> Meds
                  Assist</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Bed-bath" />
                  Bed-bath</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Transferring" />
                  Transferring</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Meal Planning" />
                  Meal Planning</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Combative" />
                  Combative</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Oral Hygiene" />
                  Oral Hygiene</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Transportation" />
                  Transportation</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Nutrition Training" />
                  Nutrition Training</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Bed-bound" />
                  Bed-bound</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Dressing" />
                  Dressing</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Eating Assistance" />
                  Eating Assistance</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Dementia" />
                  Dementia</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Toileting" />
                  Toileting</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Parkinsonâ€™s" />
                  Parkinsonâ€™s</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Bedpan" />
                  Bedpan</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Hospital Bed" />
                  Hospital Bed</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Bed Linen Change" />
                  Bed Linen Change</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Paralyzed" />
                  Paralyzed</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Foley Catheter care" />
                  Foley Catheter</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Shower Chair" />
                  Shower Chair</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Linen Change (person in bed)" />
                  Linen Change (in bed)</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Stroke / Heart Attack" />
                  Stroke / Heart Attack</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Skin Care" />
                  Skin Care</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Wheelchair" />
                  Wheelchair</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Laundry" />
                  Laundry</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Diabetes" />
                  Diabetes</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Shaving" />
                  Shaving</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Hoyer Lift" />
                  Hoyer Lift</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Dusting / Vacuuming" />
                  Dusting / Vacuuming</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Cancers" />
                  Cancers</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills" value="Gait Belt" />
                  Gait Belt</label>
                <label class="text-xs flex items-center gap-1"><input type="checkbox" name="skills"
                    value="Light Housework / Cleaning" />
                  Light Housework</label>
              </div>
            </div>
          </div>
        </div>

        <!-- 13. VACCINATION -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-bold text-gray-800 border-b pb-3 mb-4 flex items-center gap-2">
            <i class="ph ph-syringe text-[#65c027]"></i> VACCINATION
          </h3>
          <div class="space-y-3">
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Covid Vaccination</label>
              <select name="covidVaccine" id="edit-covidVaccine" class="input-field text-sm py-1 mb-2"
                onchange="toggleEditCovidDose()">
                <option value="No">No</option>
                <option value="Yes">Yes</option>
              </select>
              <div id="edit-covidDoseDiv" class="hidden">
                <label class="block text-xs text-gray-400 uppercase mb-1">Doses</label>
                <select name="covidDoses" id="edit-covidDoses" class="input-field text-sm py-1">
                  <option value="">Select...</option>
                  <option value="One Dose">One Dose</option>
                  <option value="Two Dose">Two Dose</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-xs text-gray-400 uppercase mb-1">Flu Vaccination</label>
              <select name="fluVaccine" id="edit-fluVaccine" class="input-field text-sm py-1">
                <option value="No">No</option>
                <option value="Yes">Yes</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex items-center gap-4 pt-6 border-t border-gray-100 mt-6 bg-white p-4 rounded-xl shadow-sm">
        <button type="submit" id="saveProfileBtn" class="flex-1 btn-primary">
          Save Changes
        </button>
        <button type="button" onclick="cancelEdit()"
          class="px-6 py-3 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700 font-bold">
          Cancel
        </button>
      </div>
    </form>
  </div>

  <!-- CAREGIVER STAGES VIEW -->
  <div id="cg-subview-stages" class="hidden">
    <div class="mb-6">
      <h1 class="text-2xl font-bold text-gray-800">Application Stages</h1>
      <p class="text-gray-500">Manage caregiver recruitment pipeline.</p>
    </div>

    <div class="space-y-4">
      <!-- Stage 1: New Application -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <button onclick="toggleStage('stage-new')"
          class="w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold">
              1
            </div>
            <span class="font-bold text-gray-700">New Application</span>
            <span id="count-stage-new" class="bg-gray-200 text-gray-600 text-xs px-2 py-1 rounded-full">0</span>
          </div>
          <i id="icon-stage-new" class="ph ph-caret-down text-gray-400 transition-transform"></i>
        </button>
        <div id="content-stage-new" class="hidden border-t border-gray-100">
          <div class="p-4">
            <table class="w-full text-left text-sm">
              <thead class="text-gray-500 border-b border-gray-100">
                <tr>
                  <th class="pb-2">Name</th>
                  <th class="pb-2">Status</th>
                  <th class="pb-2 text-right">Action</th>
                </tr>
              </thead>
              <tbody id="list-stage-new" class="divide-y divide-gray-50"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Stage 2: Interview Completed -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <button onclick="toggleStage('stage-interview')"
          class="w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold">
              2
            </div>
            <span class="font-bold text-gray-700">Interview Completed</span>
            <span id="count-stage-interview" class="bg-gray-200 text-gray-600 text-xs px-2 py-1 rounded-full">0</span>
          </div>
          <i id="icon-stage-interview" class="ph ph-caret-down text-gray-400 transition-transform"></i>
        </button>
        <div id="content-stage-interview" class="hidden border-t border-gray-100">
          <div class="p-4">
            <table class="w-full text-left text-sm">
              <thead class="text-gray-500 border-b border-gray-100">
                <tr>
                  <th class="pb-2">Name</th>
                  <th class="pb-2">Interview Status</th>
                  <th class="pb-2 text-right">Interview Passed?</th>
                </tr>
              </thead>
              <tbody id="list-stage-interview" class="divide-y divide-gray-50"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Stage 3: Consent Form & Background -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <button onclick="toggleStage('stage-background')"
          class="w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center font-bold">
              3
            </div>
            <span class="font-bold text-gray-700">Consent Form & Background</span>
            <span id="count-stage-background" class="bg-gray-200 text-gray-600 text-xs px-2 py-1 rounded-full">0</span>
          </div>
          <i id="icon-stage-background" class="ph ph-caret-down text-gray-400 transition-transform"></i>
        </button>
        <div id="content-stage-background" class="hidden border-t border-gray-100">
          <div class="p-4">
            <table class="w-full text-left text-sm">
              <thead class="text-gray-500 border-b border-gray-100">
                <tr>
                  <th class="pb-2">Name</th>
                  <th class="pb-2">Status</th>
                  <th class="pb-2 text-right">Action</th>
                </tr>
              </thead>
              <tbody id="list-stage-background" class="divide-y divide-gray-50"></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Stage 4: Converted to Active -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <button onclick="toggleStage('stage-active')"
          class="w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold">
              4
            </div>
            <span class="font-bold text-gray-700">Converted to Active Caregiver</span>
            <span id="count-stage-active" class="bg-gray-200 text-gray-600 text-xs px-2 py-1 rounded-full">0</span>
          </div>
          <i id="icon-stage-active" class="ph ph-caret-down text-gray-400 transition-transform"></i>
        </button>
        <div id="content-stage-active" class="hidden border-t border-gray-100">
          <div class="p-4">
            <table class="w-full text-left text-sm">
              <thead class="text-gray-500 border-b border-gray-100">
                <tr>
                  <th class="pb-2">Name</th>
                  <th class="pb-2">Status</th>
                  <th class="pb-2 text-right">Action</th>
                </tr>
              </thead>
              <tbody id="list-stage-active" class="divide-y divide-gray-50"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>